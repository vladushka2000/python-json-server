# Python JSON server

JSON-сервер, написанный на Python, для мока тестовых запросов к сторонним API и интеграционного тестирования.

## Поддерживаемые HTTP-методы

- GET
- POST
- PUT
- PATCH
- DELETE

## Развертывание JSON-сервера

Для правильной работы приложения необходимо создать файл `.env` в директории **src** на основе файла `.env.example`, который находится в той же директории.
Далее необходимо убедиться, что в директории **src/jsons** находятся файлы `db.json` - база данных, и `routes.json` - данные о url-маршрутах.
После этого необходимо поднять контейнеры с помощью docker-compose файла, который находится в директории **ci**:

`docker-compose up -d`

После запуска контейнера к приложению можно получить доступ через адрес, который был введен в `.env`.

## Правила добавления ресурсов в базу данных db.json

Поля, находящиеся в файле `db.json`, именуются ресурсами. Каждый ресурс представляет собой список объектов json, которые могут отличаться друг от друга, в зависимости от того, как их задал пользователь.
При каждом обращении к серверу, данный файл считывается и может быть изменен, что влияет на возвращаемый результат.

## Правила добавления url-маршрутов для доступа к ресурсам в файле routes.json

Файл `routes.json` содержит поля, соответствующие названиям HTTP-методов, которые поддерживает приложение.
Поля HTTP-методов содержат списки объектов - доступные пользователю маршруты.
Каждый маршрут должен содержать поле **url_mask** - маска url-маршрута, где через двоеточие *(:)* задается название поля из соответствующего ресурса.
Поле **return_mask** задает маску url-маршрута для возвращаемого значения, которое будет взято из соответствующего ресурса. Правила построения такого маршрута такие же, как и для **url_mask**. Поле **actual_return** задает конкретный url-маршрут без двоеточий *(:)*. Он должен соответствовать маске **return_mask**.
Поля **return_mask** и **actual_return** могут принимать значение **null**, но если было задано значение для поля **return_mask**, то **actual_return** также должно быть заполнено.
